<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="styles/spinner.css"/>
    <script src="//cdn.jsdelivr.net/jquery/2.1.1/jquery.min.js"></script>

    <link rel="stylesheet" href="styles/jquery.jscrollpane.css" />
    <link rel="stylesheet" href="styles/customSelectBox.css" />
    <!-- example.css is throwaway code for demoing -->
    <link rel="stylesheet" href="styles/example.css" />

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script src="js/jScrollPane.js"></script>
    <script src="js/jquery.mousewheel.js"></script>
    <script src="js/SelectBox.js"></script>
</head>
<body  class="noJS" id="example-2">

<script>
    var bodyTag = document.getElementsByTagName("body")[0];
    bodyTag.className = bodyTag.className.replace("noJS", "hasJS");
</script>

<script>
    $(function() {

        var cities = {
            selectone: ["Select a city"],
            usa: ["New York", "Austin", "Los Angeles", "Jersey City"],
            italy: ["Rome", "Palermo", "Venice", "Florence"],
            france: ["Paris", "Cognac"],
            germany: ["Berlin", "Rotterdam", "Dresden"]
        };

        var defaultSelectboxSettings = {
            height: 150,
            width: 150
        };

        var country_SB = null,
                city_SB = null;

        $("select.custom").each(function() {
            if($(this).attr("id") == "countries") {
                country_SB = new SelectBox($.extend(defaultSelectboxSettings, {
                    selectbox: $(this),
                    changeCallback: function(val) {
                        if(cities[val]) {
                            city_SB.enable();
                            updateCities(val);
                        }
                        if(val == "selectone") {
                            city_SB.disable();
                        }
                    }
                }));
            } else if( $(this).attr("id") === "cities" ) {
                city_SB = new SelectBox($.extend(defaultSelectboxSettings, {
                    selectbox: $(this)
                }));
            }
        });

        updateCities($("#countries").val());

        if($("#countries").val() == "selectone") {
            city_SB.disable();
        }

        function updateCities(val) {
            var $select = $("select#cities"),
                    html = "";

            for(var i=0; i<cities[val].length; i++) {
                html += '<option>'+cities[val][i]+'</option>';
            }
            $select.html(html);

            // HACK: chrome is too fast?
            setTimeout(function() {
                city_SB.sync();
            }, 1);
        }
    });






    function loader(action) {

        if (action == "show") {

            $('#loader-wrapper').show();
        } else {/*hide*/
            $('#loader-wrapper').hide();
        }
    }

    $(document).ready(function () {

        $('#inputValueS').focus();

    });

    function validation() {

        var booll = "";

        var input = document.getElementById("inputValueS"),
                inputButton = document.getElementById("inputButtonS");

        if (!input.checkValidity()) {

            inputButton.click();

            booll = false;
        }else{
            booll = true;
        }

        /*changeIcon(booll);*/

        return booll;
}

    function blure(){

        if (validation()) {

            $('#inputValueS').removeClass('validationValid');
        }else{

            $('#inputValueS').removeClass('validationInvalid');
        }
    }

    function changeIcon(bool) {

        if (bool) {

            $('#inputValueS').removeClass('validationInvalid');

            $('#inputValueS').addClass('validationValid');

            console.log("bool in method: " + bool);
        } else if (!bool) {

            $('#inputValueS').removeClass('validationValid');

            $('#inputValueS').addClass('validationInvalid');

            console.log("bool in method: " + bool);
        }
    }

    function isNumberKey(evt) {
        var charCode = ((evt.which) ? evt.which : event.keyCode);
        return !(charCode > 31 && (charCode != 46 && charCode != 44 && (charCode < 48 || charCode > 57)));

    }


</script>


<h1>Validation Example</h1><br />
<h2>Insert just numbers</h2>
    <form id="form" onsubmit="return false">
        <label>Input
            <input value="0.00" onkeypress="return isNumberKey(event)"
                   onkeyup="validation(this.value)"
                   onfocus="if (this.value == '0.00') this.value='';"
                   onblur="if (this.value == '') {this.value = '0.00'; } blure()"
                   id="inputValueS" type="text" pattern="\d+\.?\d{0,10}"/>
        </label>
        <input type="submit" class="hide" id="inputButtonS">
    </form>

<select class="custom" id="countries">
    <option value="selectone">Select a country</option>
    <option class="usa" value="usa">USA</option>
    <option class="italy" value="italy">Italy</option>
    <option class="france" value="france">France</option>
    <option class="germany" value="germany">Germany</option>
</select>


<div class="list">
    <select id="selectExchange"
            onmouseover="this.size=this.options.length"
            onmouseout="this.size=1"
            onchange="changeExchange(this.value)">
        <option class="usa" value="usa" >USD</option>
        <option id="eur" value="eur">EUR</option>
        <option id="rub" value="rub">RUB</option>
        <option id="pln" value="pln">PLN</option>
        <option selected="" id="uah" value="uah">UAH</option>
    </select>
</div>

</body>
</html>